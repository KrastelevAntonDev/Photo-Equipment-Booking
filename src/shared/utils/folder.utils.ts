/**
 * Создаёт безопасное имя папки (без пробелов и спецсимволов)
 * Используется для создания папок uploads, чтобы избежать проблем с URL encoding
 * 
 * Примеры:
 * "test payment" → "test-payment"
 * "Видеомикшер  Cine Treak Stream 4 входа" → "Видеомикшер-Cine-Treak-Stream-4-входа"
 */
export function sanitizeFolderName(name: string): string {
  return name
    .trim()
    .replace(/\s+/g, '-')           // Пробелы заменяем на дефис
    .replace(/[^\w\-.а-яА-ЯёЁ]/g, '_')  // Остальные спецсимволы на подчеркивание (оставляем кириллицу)
    .replace(/_{2,}/g, '_')         // Множественные подчеркивания в одно
    .replace(/-{2,}/g, '-')         // Множественные дефисы в один
    .replace(/^[-_]+|[-_]+$/g, ''); // Убираем дефисы/подчеркивания в начале и конце
}
